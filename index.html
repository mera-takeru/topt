<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>pertonal -パートナル-</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="パートナル - 音と色の性格診断">
  <meta name="twitter:description" content="音と色であなたの性格を診断！MBTIの次はコレ！今すぐ無料でチェック！">
  <meta name="twitter:image" content="">
  <meta property="og:image" content=""> <!-- Fallback for other platforms -->
  <style>
 :root {
  --primary: #6C63FF;
  --secondary: #FF6584;
  --bg: #F9FAFB;
  --text: #333;
  --radius: 12px;
  --transition: .3s;
}

* {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

a {
  color: inherit !important;
  text-decoration: none;
}a:visited, a:link, a:active {
  color: inherit !important;
}body {
  font-family: 'Inter', sans-serif;
  background: linear-gradient(
    45deg,
    rgba(255, 99, 71, 0.1),
    rgba(255, 165, 0, 0.1),
    rgba(255, 255, 0, 0.1),
    rgba(50, 205, 50, 0.1),
    rgba(0, 191, 255, 0.1),
    rgba(75, 0, 130, 0.1),
    rgba(238, 130, 238, 0.1)
  );
  background-size: 400%;
  color: var(--text);
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: flex-start;
  min-height: 100vh;
  padding: 16px;
  animation: rainbow 8s ease infinite;
}@keyframes rainbow {
  0% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}.container {
  width: 100%;
  max-width: 600px;
  background: rgba(255, 255, 255, 0.9);
  border-radius: var(--radius);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
  padding: 24px;
  margin: 16px auto;
}header {
  background: rgba(255, 255, 255, 0.9);
  padding: 12px;
  border-bottom: 1px solid #ddd;
  width: 100%;
  text-align: center;
  box-sizing: border-box;
}.header-nav {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 12px;
}header .header-nav a {
  text-decoration: none;
  color: #000000 !important;
  font-weight: 400;
  font-size: 0.75rem;
  padding: 0 6px;
  transition: color var(--transition);
}header .header-nav a:hover {
  color: var(--secondary);
}header .header-nav .divider {
  color: #000000 !important;
  font-size: 0.75rem;
  font-weight: 400;
}footer {
  background: rgba(255, 255, 255, 0.9);
  padding: 12px;
  border-top: 1px solid #ddd;
  text-align: center;
  width: 100%;
  box-sizing: border-box;
}.footer-nav {
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 12px;
}footer .footer-nav a {
  text-decoration: none;
  color: #000000 !important;
  font-weight: 400;
  font-size: 0.75rem;
  padding: 0 6px;
  transition: color var(--transition);
}footer .footer-nav a:hover {
  color: var(--secondary);
}footer .footer-nav .divider {
  color: #000000 !important;
  font-size: 0.75rem;
  font-weight: 400;
}.copyright {
  font-family: 'Inter', sans-serif;
  font-size: 0.75rem;
  font-weight: 400;
  color: #000000;
  text-align: center;
  margin-top: 8px;
}h1 {
  text-align: center;
  font-weight: 700;
  margin-bottom: 16px;
  color: var(--primary);
}.title-topt {
  font-weight: 700;
  text-align: center;
  display: block;
  margin-bottom: 8px;
  color: var(--secondary);
  text-shadow: 
    1px 1px 2px rgba(0, 0, 0, 0.3),
    0 0 4px rgba(255, 255, 255, 0.5);
  letter-spacing: 0.5px;
}.title-english {
  font-size: 2rem;
  font-weight: 700;
}.title-japanese {
  font-size: 1.25rem;
  font-weight: 700;
}.title-sub {
  font-size: 1rem;
  display: block;
}.screen {
  display: none;
}.screen.active {
  display: block;
}button {
  font: inherit;
  font-size: 1rem;
  padding: 12px 20px;
  border: none;
  border-radius: var(--radius);
  background: var(--primary);
  color: #fff;
  cursor: pointer;
  transition: background var(--transition), transform var(--transition);
}button:hover {
  background: var(--secondary);
  transform: scale(1.02);
}#startBtn {
  width: 100%;
  margin-top: 12px;
}.progress-bar {
  height: 8px;
  background: #eee;
  border-radius: 4px;
  overflow: hidden;
  margin-bottom: 16px;
}.progress-inner {
  height: 100%;
  background: var(--primary);
  width: 0%;
  transition: width var(--transition);
}.question h2 {
  font-size: 1.25rem;
  margin-bottom: 16px;
}.options {
  list-style: none;
  padding: 0;
  margin-bottom: 24px;
}.options li {
  margin-bottom: 12px;
}.options li.selected button {
  background: var(--secondary);
  color: #fff;
}.options button {
  width: 100%;
  text-align: left;
  background: #f9f9f9;
  color: var(--text);
  padding: 12px;
  border: 1px solid #ddd;
  border-radius: var(--radius);
  transition: background var(--transition), border-color var(--transition);
}.options button:hover {
  background: var(--primary);
  color: #fff;
  border-color: var(--primary);
}.nav {
  display: flex;
  justify-content: space-between;
}.share-row, .goods-row, .restart-row {
  display: flex;
  width: 100%;
  margin-top: 16px;
  margin-bottom: 16px;
  flex-wrap: nowrap;
}.share-row button, .goods-row button, .restart-row button {
  flex: 1;
}#shareXBtn {
  background: #1DA1F2;
}#goodsBtn {
  background: var(--primary);
  color: #fff;
  flex: 1;
}#goodsBtn:hover {
  background: var(--secondary);
  transform: scale(1.02);
}.restart-row button {
  flex: 1;
  background: #fff;
  color: var(--primary);
  border: 1px solid var(--primary);
}.start-image, .result-image {
  width: 100%;
  background: #ecebff;
  border-radius: var(--radius);
  margin-bottom: 16px;
  overflow: hidden;
  display: flex;
  align-items: center;
  justify-content: center;
  aspect-ratio: 3 / 2; 
}.start-image picture, .start-image img {
  width: 100%;
  height: auto;
  object-fit: contain;
}.result-image {
  width: 100%;
  background: #ecebff;
  border-radius: var(--radius);
  margin-bottom: 16px;
  overflow: hidden;
  display: flex;
  align-items: center;
  justify-content: center;
  aspect-ratio: 4 / 3;
}.result-image img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}#resultText .result-description-first {
  font-size: 1.25rem !important;
  font-weight: 700 !important;
  color: #000000 !important; 
  margin-bottom: 8px;
}.accordion {
  margin-bottom: 16px;
}.accordion-toggle {
  background: var(--primary);
  color: #fff;
  border: none;
  padding: 8px 16px;
  border-radius: var(--radius);
  cursor: pointer;
  font-size: 1rem;
  margin-top: 8px;
  display: inline-flex;
  align-items: center;
  gap: 8px;
  transition: background var(--transition), transform var(--transition);
}.accordion-toggle:hover {
  background: var(--secondary);
  transform: scale(1.02);
}.accordion-toggle .arrow {
  font-size: 0.9rem;
}.accordion-content {
  margin-top: 8px;
  font-size: 1rem;
  line-height: 1.5;
  max-height: 0;
  opacity: 0;
  overflow: hidden;
  transition: max-height 0.3s ease-out, opacity 0.3s ease-out;
}.accordion-content.open {
  opacity: 1;
  max-height: 1000px; 
}@media (max-width: 600px) {
  .start-image {
    max-width: 100%;
    margin-bottom: 12px;
    aspect-ratio: 1 / 1;
  }
  .result-image {
    max-width: 100%;
    margin-bottom: 12px;
    aspect-ratio: 4 / 3; 
  }
  .title-english {
    font-size: 2rem;
  }
  .title-japanese {
    font-size: 1.25rem;
  }
}.title {
  font-size: 1.5rem;
  font-weight: 700;
  margin-top: 0;
  margin-bottom: 8px;
  text-align: left;
  display: inline-block;
  padding: 2px 8px;
  border-radius: 4px;
}.compatible-title {
  font-size: 1.5rem;
  font-weight: 400;
  text-align: left;
  margin-bottom: 8px;
  color: var(--text);
}#resultScreen h3,
#resultText h3 {
  font-size: 1.25rem;
  font-weight: 700;
  margin-top: 16px;
  margin-bottom: 8px;
  color: var(--primary);
}#resultText p {
  font-size: 1rem;
  margin-bottom: 16px;
}.color-name {
  font-weight: 600;
  border: 1px solid #ddd;
  padding: 2px 8px;
  border-radius: 4px;
}hr {
  border: 0;
  border-top: 1px solid #ddd;
  margin: 16px 0;
}
  </style>
</head>
<body>
  <header>
    <nav class="header-nav">
      <a href="./about.html">パートナルとは</a>
      <span class="divider">|</span>
      <a href="./faq.html">よくある質問</a>
      <span class="divider">|</span>
      <a href="https://forms.gle/PstFm54KustR4zKs6">お問い合わせ</a>
    </nav>
  </header>
  <div class="container">
    <h1>
      <span class="title-topt">
        <span class="title-english">pertonal</span>
        <span class="title-japanese"> -パートナル-</span>
      </span>
      <span class="title-sub">「音」×「色」＝ New「性格診断」</span>
    </h1>
    <div id="startScreen" class="screen active">
      <div class="start-image">
        <picture>
          <source media="(min-width: 601px)" 
                  srcset="https://copper-glamorous-bass-418.mypinata.cloud/ipfs/bafybeifuttq27ioeycupsnmuj4u2kuvjtmg4ibhtxualf6mti2yxa5abbe" 
                  type="image/jpeg">
          <source media="(max-width: 600px)" 
                  srcset="https://copper-glamorous-bass-418.mypinata.cloud/ipfs/bafybeiep45zdax5g37aatlprfzu63rzs66qpzqioyjmlgpezzjcpolbxya" 
                  type="image/jpeg">
          <img src="https://copper-glamorous-bass-418.mypinata.cloud/ipfs/bafybeifuttq27ioeycupsnmuj4u2kuvjtmg4ibhtxualf6mti2yxa5abbe" 
               alt="メイン画像" 
               loading="lazy">
        </picture>
      </div>
      <button id="startBtn">▶︎▶︎▶︎ 今すぐ無料診断 ◀︎◀︎◀︎</button>
    </div>
    <div id="questionScreen" class="screen">
      <div class="progress-bar"><div id="progInner" class="progress-inner"></div></div>
      <div class="question"><h2 id="questionText"></h2></div>
      <ul id="optionsList" class="options"></ul>
      <div class="nav"><button id="backBtn">◀︎ 1つ前へ</button></div>
    </div>
    <div id="resultScreen" class="screen">
      <div id="resultImage" class="result-image"></div>
      <h3>あなたの調性格（パートナル）</h3>
      <div id="resultText"></div>
      <div class="share-row">
        <button id="shareXBtn">Xでシェアする</button>
      </div>
      <div class="goods-row">
        <button id="goodsBtn">公式グッズを見る</button>
      </div>
      <div class="restart-row"><button id="restartBtn">もう一度診断する</button></div>
    </div>
  </div>
  <script>
    document.addEventListener('DOMContentLoaded', () => {
  const personalityColors = {
    "C": { name: "ブライトレッド", code: "#FF3232" },
    "cm": { name: "ディープパープル", code: "#4C0099" },
    "D♭": { name: "ブライトアクア", code: "#3298FF" },
    "c♯m": { name: "ディープグリーン", code: "#009900" },
    "D": { name: "ブライトイエロー", code: "#FEFF32" },
    "dm": { name: "ディープローズ", code: "#99004C" },
    "E♭": { name: "ブライトパープル", code: "#9832FF" },
    "e♭m": { name: "ディープシアン", code: "#009899" },
    "E": { name: "ブライトグリーン", code: "#32FF32" },
    "em": { name: "ディープオレンジ", code: "#994C00" },
    "F": { name: "ブライトローズ", code: "#FF3299" },
    "fm": { name: "ディープブルー", code: "#000099" },
    "F♯": { name: "ブライトシアン", code: "#32FEFF" },
    "f♯m": { name: "ディープライム", code: "#4C9900" },
    "G": { name: "ブライトオレンジ", code: "#FF9932" },
    "gm": { name: "ディープマゼンタ", code: "#990098" },
    "A♭": { name: "ブライトブルー", code: "#3232FF" },
    "g♯m": { name: "ディープミント", code: "#00994C" },
    "A": { name: "ブライトライム", code: "#99FF32" },
    "am": { name: "ディープレッド", code: "#990000" },
    "B♭": { name: "ブライトマゼンタ", code: "#FF32FE" },
    "b♭m": { name: "ディープアクア", code: "#004C99" },
    "B": { name: "ブライトミント", code: "#32FF99" },
    "bm": { name: "ディープイエロー", code: "#989900" }
  };

  const characterDescriptions = {
    "C": `<span class="title" style="background-color: ${personalityColors['C'].code}; color: #FFFFFF; padding: 2px 8px; border-radius: 4px;">【C型】騎士</span>
    <p class="result-description"><br>まるで騎士のように、強さと優しさを兼ね備えるあなた。<br><br>
一度決めた信念やルールを曲げることなく、どんなときも「正しいと思える道」をまっすぐに進んでいきます。<br><br>
言葉や行動に嘘がなく、ごまかしがきかないからこそ、時に不器用に見えることも。<br><br>
でもそのぶん、あなたの真剣さや誠実さが、信頼の土台になっています。<br><br>
困っている人を見たら、つい手を差し伸べたくなる。<br><br>
誰かの力になりたいという気持ちが、あなたの行動力の源です。<br><br>
必要とされる場面では、自然と前に出る勇気もある——それは“ヒーロー願望”というより、“責任感と優しさ”から来るもの。<br><br>
あなたにとって、仲間を裏切るような行為や不誠実な関係は、もっとも受け入れがたいもの。<br><br>
信頼関係を築くには時間がかかるけれど、いったん築いた絆は、ちょっとやそっとじゃ揺るがない。<br><br>
ただ、そこにいるだけで、空気が整って、安心できる。<br><br>
そんな影響力を持っているのが、あなたという人です。<br><br>
組織でもチームでも、あなたの存在は「秩序」と「安心感」の象徴。<br><br>
いざというときに頼られる、縁の下のヒーローです。</p>`,
    "cm": `<span class="title" style="background-color: ${personalityColors['cm'].code}; color: #FFFFFF; padding: 2px 8px; border-radius: 4px;">【cm型】鍛冶屋</span>
<p class="result-description"><br>多くを語らなくても、あなたの中には強いこだわりと意思がちゃんと息づいています。<br><br>
細かい部分にまで目が届き、妥協せずに何度でもトライしながら、自分が「これだ」と思える完成形を目指していく。<br><br>
その姿勢はまるで、オンリーワンの一本を鍛え上げる刀鍛冶のよう。<br><br>
派手にアピールするのは得意じゃないかもしれないけど、あなたがつくるものには“本物”の説得力があります。<br><br>
誰かの期待に合わせるより、自分の納得を優先する——そんなブレない価値観を持っているからこそ、深い集中力と継続力が光ります。<br><br>
一人の時間を大切にし、自分のペースでじっくりと向き合うタイプ。<br><br>
孤独に強いというより、むしろ「一人で何かを深く追いかける時間」が、あなたにとってのエネルギー源なんです。<br><br>
そしてもう一つの強みは、目に見えない“感情”や“空気感”を作品や言葉に落とし込める表現力。<br><br>
あなたの手から生まれるものには、心に残る温度が確かに宿っています。<br><br>
着実に積み上げていけるあなたの生き方は、実は多くの人の憧れの的。<br><br>
一歩一歩を丁寧に歩むその姿が、誰かにとっての“本物”になる日も、きっと遠くないはずです。</p>`,
    "D♭": `<span class="title" style="background-color: ${personalityColors['D♭'].code}; color: #FFFFFF; padding: 2px 8px; border-radius: 4px;">【D♭型】思想家</span>
<p class="result-description"><br>あなたは、<br><br>
<br><br>
</p>`,
    "c♯m": `<span class="title" style="background-color: ${personalityColors['c♯m'].code}; color: #FFFFFF; padding: 2px 8px; border-radius: 4px;">【c♯m型】創造主</span>
<p class="result-description"><br>あなたは、<br><br>
<br><br>
</p>`,
    "D": `<span class="title" style="background-color: ${personalityColors['D'].code}; color: #FFFFFF; padding: 2px 8px; border-radius: 4px;">【D型】探検家</span>
<p class="result-description"><br>あなたは、自分の信じる未来に向かって、力強く一歩を踏み出せる探検家。<br><br>
どんな壁にぶつかっても、そこで止まらずに「どうやって越えるか」を考え、実際に動き出す行動力があります。<br><br>
あなたの中には、ハッキリとしたビジョンと、揺るがない意志があります。<br><br>
ただ突っ走るだけじゃなく、「何のために」進むのかをちゃんと理解しているからこそ、その一歩には説得力があり、まわりの人たちの心にも火を灯すのです。<br><br>
あなたの言葉や行動には、前向きなエネルギーがあふれています。<br><br>
それはまるで、勝利のファンファーレのように周囲を鼓舞し、「自分も動いてみたい」「変わってみたい」と思わせる、明るく前進する力そのものです。<br><br>
時には、その情熱が強くなりすぎて、まわりを驚かせてしまうことがあるかもしれません。<br><br>
でも、あなたの原動力はいつだって「誰かのために、未来をより良くしたい」という純粋な想いです。<br><br>
あなたが道を切り拓くことで、あとに続く人たちはきっと勇気をもらうはず。<br><br>
あなたの背中は、理想に向かって突き進む「光の先頭ランナー」のように、たくさんの希望を背負っています。</p>`,
    "dm": `<span class="title" style="background-color: ${personalityColors['dm'].code}; color: #FFFFFF; padding: 2px 8px; border-radius: 4px;">【dm型】司書</span>
<p class="result-description"><br>あなたは、人の感情の「揺れ」を見逃さず、そっと寄り添える司書。<br><br>
まわりが気づかないような小さな違和感や、うまく言葉にできない想いさえも、あなたは静かにすくい取って、その人に必要な言葉へと形にしていきます。<br><br>
あなたの感性は、とても繊細で、まるで朝露のように澄んでいます。<br><br>
それは決して弱さではなく、誰かの心に深く共感できる「静かな強さ」です。<br><br>
にぎやかな場では目立たないかもしれないけれど、あなたのいる場所にはどこか安心感があって、自然と人が心をひらきたくなる。<br><br>
その空気をつくれるのは、あなたが「ちゃんと感じ取れる人」だからこそ。<br><br>
あなたにとって、言葉はただの情報ではありません。<br><br>
誰かの記憶や願いをやさしく抱きしめ、そっと届けるための、大切な鍵です。<br><br>
人の心に寄り添うあなたの姿は、お気に入りの本のページをゆっくりと開いていくような、やさしさに満ちた、美しい時間を感じさせます。</p>`,
    "E♭": `<span class="title" style="background-color: ${personalityColors['E♭'].code}; color: #FFFFFF; padding: 2px 8px; border-radius: 4px;">【E♭型】賢者</span>
<p class="result-description"><br>あなたは、いつも落ち着いた空気をまといながら、まわりを優しく包み込む賢者。<br><br>
まるで森の奥にある静かな湖のように、そこにいるだけで心がすーっと整っていくような、不思議な穏やかさがあります。<br><br>
あなたの魅力は、「正しさ」や「強さ」で相手を圧倒することではなく、どんな意見も、どんな感情も一度ちゃんと受けとめてくれる、ゆるぎない優しさと知恵にあります。<br><br>
あなたがかけるひと言には、無理がなくて、どこか自然体で、でもなぜか心の奥にまっすぐ届いてきて、いつまでも残ります。<br><br>
あなたは、対立よりも調和を選びます。<br><br>
でもそれは「自分の意見がない」からではなく、みんなが気持ちよくいられる形を自然に見つける力があるから。<br><br>
人と人、感情と理性、過去と未来。<br><br>
いろんなものの「あいだ」に立って、安定の橋をかけられるあなたは、まさに、誰かにとっての「心の賢者」そのものです。</p>`,
    "e♭m": `<span class="title" style="background-color: ${personalityColors['e♭m'].code}; color: #FFFFFF; padding: 2px 8px; border-radius: 4px;">【e♭m型】画家</span>
<p class="result-description"><br>あなたは、感情の奥にある「まだ名前のついていない気持ち」をそっとすくい上げて形にする画家。<br><br>
にぎやかな世界に埋もれがちな小さな想いを見つけて、それを静かな色で丁寧に描いていく感性の持ち主です。<br><br>
あなたが向き合っているのは、明るさや派手さではなく、静かな悲しみや、ふとした寂しさ、過ぎていく季節のような心のゆらめき。<br><br>
そこにこそ、あなただけが見つけられる「深い美しさ」があることを、あなたは知っています。<br><br>
たとえそれが誰かにどう言われようとも、あなたにとってそれは、ちゃんと向き合う価値のある「感情のかけら」。<br><br>
それを無理に明るく塗り替えるのではなく、そのままの色合いで、そっと大切に飾っていく。<br><br>
だからこそ、あなたの作品や言葉には、言い表せない余韻とやさしさが宿っているのです。<br><br>
誰かの悲しみも喜びも、すべての感情にそっと寄り添い、「それもひとつの美しさなんだ」と伝えてくれるあなたは、感情に色を与える芸術家のような人です。</p>`,
    "E": `<span class="title" style="background-color: ${personalityColors['E'].code}; color: #FFFFFF; padding: 2px 8px; border-radius: 4px;">【E型】演奏家</span>
<p class="result-description"><br>あなたは、明るさとやさしさをまっすぐに届けられる演奏家。<br><br>
まるで朝の陽ざしにように、その場の雰囲気を一気にパッと明るくする不思議な力があります。<br><br>
あなたが誰かと話すとき、笑うとき、何かに夢中になっているとき、そこには自然とあたたかい空気が流れていて、まわりの人の心をふっと軽くしてくれるのです。<br><br>
でも、あなたの明るさはただの「元気さ」ではありません。<br><br>
誰かのちょっとした変化や、言葉にできない気持ちにもちゃんと気づける、深いやさしさが根っこにあります。<br><br>
だから、落ち込んでいる人にも無理に明るさを押しつけることはなく、その人のタイミングに寄り添いながら、そっと背中を押してあげることができるのです。<br><br>
あなたにとって、人生は一度きりのライブステージ。<br><br>
多少のミスやトラブルがあっても、その瞬間を「楽しむ力」こそが、あなたのいちばんの魅力。<br><br>
その姿は、まわりに元気と希望を届けて、「自分も前に進んでみようかな」と思わせてくれます。<br><br>
あなたの笑顔には、誰かの今日を明るくする魔法が宿っているのです。</p>`,
    "em": `<span class="title" style="background-color: ${personalityColors['em'].code}; color: #FFFFFF; padding: 2px 8px; border-radius: 4px;">【em型】遊牧民</span>
<p class="result-description"><br>あなたは、決まった形にとらわれず、風のように自由に生きる遊牧民。<br><br>
「こうあるべき」に縛られず、自分の気持ちやタイミングに正直でいられるその生き方は、多くの人の憧れです。<br><br>
気分や状況に合わせて居場所を変えたり、ひとりの時間を大切にしたりするその柔軟さは、自分の心をちゃんと大事にしている証拠です。<br><br>
必要以上に誰かと足並みをそろえようとせず、でも一緒にいるときはちゃんと笑い合える。<br><br>
そんなあなたのスタンスは、まわりに新しい風と心地よい解放感を運んでくれます。<br><br>
自由を愛するあなたですが、その裏には、繊細で静かなまなざしが宿っています。<br><br>
旅の途中で出会う喜びも、別れの切なさも、あなたはすべてちゃんと感じ取って、自分の中で静かに抱いているのです。<br><br>
あなたがそばにいると、人はふと肩の力が抜けて、「このままの自分でいいかも」と思えるようになります。<br><br>
それは、あなた自身が自分を縛らず、他人の自由も尊重できる「やさしい強さ」を持っているから。<br><br>
今この瞬間を大切にしながら、風のようにしなやかに生きるあなたは、訪れた場所に新しい空気と、生き方のヒントを残していく旅人です。</p>`,
    "F": `<span class="title" style="background-color: ${personalityColors['F'].code}; color: #FFFFFF; padding: 2px 8px; border-radius: 4px;">【F型】発明家</span>
<p class="result-description"><br>あなたは、ちょっとした違和感やふしぎを見つける発明家。<br><br>
「なんでこうなってるんだろう？」「もっと面白くできないかな？」<br><br>
そんなひとことから、誰も思いつかなかったアイデアを軽やかに形にしてしまう才能を持っています。<br><br>
あなたの思考は、空をふわっと飛ぶみたいに自由で柔軟。<br><br>
けれどただ奇抜なだけじゃなく、ちゃんと意味があって、どこかやさしさのある発想ばかりです。<br><br>
まわりが見逃してしまうような些細なことにも目をとめて、そこから新しい見方や、クスッと笑える驚きを生み出せるあなたの感性は、まるで「遊び心に満ちた実験室」。<br><br>
あなたの中には、田舎道をのんびり歩くような穏やかさと、おもちゃ箱をひっくり返したようなワクワク感が、ちゃんと同居しています。<br><br>
突拍子もないように見えるアイデアにも、あなたなりのロジックがあって、まわりの人は「え、そんな考え方あったんだ！」とびっくりしながらも、だんだんとその楽しさに引き込まれていくでしょう。</p>`,
    "fm": `<span class="title" style="background-color: ${personalityColors['fm'].code}; color: #FFFFFF; padding: 2px 8px; border-radius: 4px;">【fm型】小説家</span>
<p class="result-description"><br>あなたは、過ぎていった出来事や、ふと胸に残った感情をそっと拾い集めて物語に変えていく小説家。<br><br>
思い出や感情のかけらを、大切にそっと抱えながら、それをひとつの「言葉」や「物語」としてすくい上げていくあなたの感性は、まるで静かな夜に灯る、小さなランプのようです。<br><br>
あなたは知っています。<br><br>
喜びも、痛みも、報われなかった想いも、ぜんぶが人生の大切な一部だということを。<br><br>
だからこそ、どんな記憶にもまっすぐ向き合い、その中にちゃんと「意味」を見つけていけるのです。<br><br>
あなたの文章やまなざしには、誰かの感情を代わりに言葉にしてくれるような、深いやさしさがあります。<br><br>
読む人、話す人が「それ、私の気持ちかも」と感じるような、静かな共鳴力があるのです。<br><br>
過去を振り返ることは、あなたにとってただの懐古ではなく、「今をあたためるための記憶」であり、「これから」を信じるための根っこ。<br><br>
あなたが綴る物語は、どこか切なく、でもあたたかい。<br><br>
読む人の心にそっと寄り添いながら、明日に向かう灯火をともす、そんな言葉の贈り物です。</p>`,
    "F♯": `<span class="title" style="background-color: ${personalityColors['F♯'].code}; color: #FFFFFF; padding: 2px 8px; border-radius: 4px;">【F♯型】建築士</span>
<p class="result-description"><br>あなたは、目に見えないバラバラなものの中から「整った美しさ」を見つけ出す建築家。<br><br>
誰かが気づかないカオスの中にも、静かに秩序を組み立てていく、冷静で繊細な思考の持ち主です。<br><br>
あなたの頭の中には、いつも静かな設計図が描かれていて、そのひとつひとつのパーツには、意味と優しさがきちんと組み込まれています。<br><br>
細部まで妥協せず、どこか曖昧なままにしておくこともない。<br><br>
すべてがしっかり噛み合ってこそ、誰かが安心して過ごせる場所になることを、あなたは知っているのです。<br><br>
感情に飲み込まれることはなく、物事を俯瞰して見られる冷静さは、時に近寄りがたく感じられるかもしれません。<br><br>
でもその奥には、誰かのために世界を整えたいという静かな情熱が、ちゃんと燃えています。<br><br>
苦労や迷いも、人知れずたくさん経験してきたはず。<br><br>
それでもあなたは、その経験を無駄にせず、もっと良いものをつくろうとする意思に変えてきました。<br><br>
あなたが手がけるものは、多くの人の未来を支える「静かで強い土台」になっていくのです。</p>`,
    "f♯m": `<span class="title" style="background-color: ${personalityColors['f♯m'].code}; color: #FFFFFF; padding: 2px 8px; border-radius: 4px;">【f♯m型】錬金術師</span>
<p class="result-description"><br>あなたは、誰にも見えない場所で静かに思考を深め、時間をかけて「自分だけの答え」を見つけ出す錬金術師。<br><br>
外の喧騒には流されず、自分の内側にある感覚や違和感と向き合い続けるあなたの姿は、まるで静かな湖の底で光を探すような、深くて澄んだ集中力に満ちています。<br><br>
時には、誰にも理解されないような孤独を感じることがあるかもしれません。<br><br>
けれどそれこそが、あなたにしかたどり着けない「真理」の入り口。<br><br>
誰にも見えない静寂の中で、あなたは新しい価値を静かに錬成しているのです。<br><br>
あなたが放つ言葉やアイデアは、いつも独特で鋭く、聞いた人の心に深く突き刺さります。<br><br>
それは感情をぶつけるのではなく、本質をまっすぐ見ているからこそ出せる力強さ。<br><br>
あなたは群れることを選ばないけれど、決して孤立しているわけではありません。<br><br>
むしろ、自分自身と深くつながっているからこそ、必要なときには他者の本音にも静かに共鳴できる、特別な感受性を持っています。<br><br>
あなたが生み出すものは、時間が経っても色あせない「本物」。<br><br>
それは一瞬の流行ではなく、魂を練り上げてつくる、唯一無二の結晶です。</p>`,
    "G": `<span class="title" style="background-color: ${personalityColors['G'].code}; color: #FFFFFF; padding: 2px 8px; border-radius: 4px;">【G型】狙撃手</span>
<p class="result-description"><br>あなたは、自分の信じた未来に向かって、迷いなく矢を放つ狙撃手。<br><br>
どんな状況でもブレない視線とまっすぐな行動力を持ち、曖昧な空気を切り裂くように、新しい風を生み出していきます。<br><br>
あなたの強さは、言葉や理屈ではなく、「選ぶ力」と「動く力」。<br><br>
誰かが立ち止まっているときも、あなたは「行くべき方向」をちゃんと見つけて、そこに向かって一歩を踏み出すことができます。<br><br>
その姿は、まるで青空にまっすぐ放たれる一筋の矢のよう。<br><br>
迷いなく、でも優しく。<br><br>
あなたが進む姿を見て、まわりの人たちは「自分も前に進んでいいんだ」と思えるようになるのです。<br><br>
あなたの中には、人を背負う覚悟と、自分の選択に責任を持つ誠実さがちゃんとあります。<br><br>
無駄なものを削ぎ落とし、本当に大事なことだけを選んでいく。<br><br>
その潔さが、あなたの行動に強さと清々しさを与えているのです。<br><br>
あなたが放つ言葉や行動には、未来を切り開く力と、まわりを照らす優しさが宿っています。</p>`,
    "gm": `<span class="title" style="background-color: ${personalityColors['gm'].code}; color: #FFFFFF; padding: 2px 8px; border-radius: 4px;">【gm型】探偵</span>
<p class="result-description"><br>あなたは、静かな夜の中で、誰も気づかない違和感を見つけ出す探偵。<br><br>
表面に現れない感情の揺れや、ほんのわずかな空気の変化を、するどい直感とやわらかなまなざしで見抜いていきます。<br><br>
あなたの観察力はまるで星空のように澄んでいて、どんなに霧がかかっていても、「本当に大事なこと」を見落としません。<br><br>
誰かの言葉にならない思いを受け取ったとき、あなたはそれを勝手に決めつけるのではなく、そっと寄り添いながら確かめていきます。<br><br>
その慎重さと誠実さこそが、あなたのいちばんの信頼感。<br><br>
あなたは、ただ「正しさ」を求める人ではありません。<br><br>
事実の奥にある「感情」や「背景」まで静かに見つめ、誰かを裁くよりも、まず理解しようとするやさしさを持っています。<br><br>
自分の中に湧き上がる不安やざわめきすらも、否定せずに受け入れながら、あなたは少しずつ、真実のかけらを集めていくのです。<br><br>
目立たなくても、誰よりも深く人の心を見ているあなた。<br><br>
その存在は、夜に差し込む一筋の月明かりのように、静かに安心を与えてくれます。</p>`,
    "A♭": `<span class="title" style="background-color: ${personalityColors['A♭'].code}; color: #FFFFFF; padding: 2px 8px; border-radius: 4px;">【A♭型】舞踏家</span>
<p class="result-description"><br>あなたは、どんな場面でもふわっと空気を整えてしまう舞踏家。<br><br>
大げさな言葉は使わず、自然な所作と気配りで、周りの人をやさしく落ち着かせる力を持っています。<br><br>
あなたがいるだけで、なんとなく場が整う。<br><br>
重たい空気がすっとやわらぎ、みんなが自分らしくいられる雰囲気が生まれる。<br><br>
その「見えない美しさ」を保つ感覚は、まるで舞台の上で踊るダンサーのようです。<br><br>
誰かを立てたいとき、空気が濁りそうなとき、自然と一歩引いたり、さりげなく流れを変えたりできる。<br><br>
それは誰にでもできることではなく、静かなセンスと優しさの証です。<br><br>
あなたの行動は、まるで音のない音楽のように、場のリズムや心の温度を調整していく「見えない芸術」。<br><br>
あなたが大切にしているのは、言葉よりも「空気感」。<br><br>
その静けさの中に、気品と余裕、そして相手への敬意がしっかりと込められています。<br><br>
あなたの存在は、言葉にしなくても周囲に伝わっていく「やさしい静けさ」そのもの。<br><br>
日常をさりげなく美しく整える表現者なのです。</p>`,
    "g♯m": `<span class="title" style="background-color: ${personalityColors['g♯m'].code}; color: #FFFFFF; padding: 2px 8px; border-radius: 4px;">【g♯m型】収集家</span>
<p class="result-description"><br>あなたは、誰もが見逃してしまうような感情のかけらや風景の断片を静かに拾い集めて、自分の世界の中にそっと並べていく収集家。<br><br>
にぎやかな場所よりも、静かな空間に惹かれやすいあなたは、目立つものや派手な言葉には興味がなく、むしろ儚さや影の中にこそ、価値あるものが眠っていることを知っています。<br><br>
あなたの感性は、まるで霧の中で光る小さな星のよう。<br><br>
誰もが見過ごしていくような瞬間に立ち止まり、そこに込められた感情や意味を、じっと見つめ続けることができるのです。<br><br>
焦ったり、不安になったりすることもあるかもしれません。<br><br>
けれどあなたは、それらを押し殺すのではなく、自分の静かな場所に持ち帰り、美しさへと変えていく力を持っています。<br><br>
あなたにとって「美しさ」とは、完璧なものではなく、むしろ不完全なものに宿る「魂のかけら」。<br><br>
誰にも気づかれなくても、そこに愛しさを感じられる、孤高のまなざしを持っているのです。<br><br>
あなたが紡ぐ沈黙には意味があり、あなたが集めたひとつひとつの選択には、静かな哲学が宿っています。<br><br>
気づいた人だけが心を奪われる、まるで幻のような魅力を持つ存在です。</p>`,
    "A": `<span class="title" style="background-color: ${personalityColors['A'].code}; color: #FFFFFF; padding: 2px 8px; border-radius: 4px;">【A型】参謀長</span>
<p class="result-description"><br>あなたは、情熱と知性の両方をあわせ持つ参謀長。<br><br>
まわりを冷静に見渡す目と、誰かのために動こうとする熱い心を両立させられる、数少ないタイプです。<br><br>
あなたのすごいところは、「ただ熱い」だけではないということ。<br><br>
どうすれば物事がうまくいくか、どの言葉が一番相手に届くか——<br><br>
その場の空気やタイミングをしっかり読みながら、最善の一手を選べる力があります。<br><br>
あなたが描く理想には、ちゃんと現実を動かす力がある。<br><br>
だからこそ、まわりの人たちはあなたを信じてついていきたくなるのです。<br><br>
けれど、あなたの根っこにあるのはいつも「人への想い」。<br><br>
誰かを勝たせたい、仲間と一緒に成功したい、未来に希望を残したい。<br><br>
そんなピュアであたたかい情熱が、あなたの行動すべての原動力になっています。<br><br>
あなたは、自分が前に出ることよりも、まわりの人が自信を持って動けるようにサポートすることが得意。<br><br>
その姿はまさに、光の道筋を描く戦略家。<br><br>
あなたの存在がそばにあるだけで、みんなの視界がクリアになり、一歩前へ踏み出す勇気が生まれます。</p>`,
    "am": `<span class="title" style="background-color: ${personalityColors['am'].code}; color: #FFFFFF; padding: 2px 8px; border-radius: 4px;">【am型】詩人</span>
<p class="result-description"><br>あなたは、日常のなかにある小さな感情の揺れを、そっとすくい取って、やわらかな言葉に変えていく詩人。<br><br>
まるで夕暮れの光みたいに、切なさの中にあたたかさが宿る人です。<br><br>
あなたの言葉には、強い主張はありません。<br><br>
でも聞いた人の心にじんわり染み込んで、後からふと思い出したくなるような、静かな余韻があります。<br><br>
ありふれた風景の中で、誰かの寂しさや嬉しさにふと気づけるあなた。<br><br>
その繊細なまなざしは、目立たないけれど確かに人を癒しています。<br><br>
あなたは、悲しみを無理に明るく変えようとはしません。<br><br>
むしろその感情をそのまま受けとめて、「それも大事な気持ちだよ」とやさしく肯定できる人です。<br><br>
孤独や迷いも、あなたにとっては創造の糧。<br><br>
それを静かに抱きしめながら、誰かの心に寄り添う言葉を紡いでいきます。<br><br>
あなたの言葉がもたらすのは、ふと心が疲れたときにそっと寄り添い、「そのままのあなたでいいよ」と伝えてくれる、やわらかくて誠実な強さです。</p>`,
    "B♭": `<span class="title" style="background-color: ${personalityColors['B♭'].code}; color: #FFFFFF; padding: 2px 8px; border-radius: 4px;">【B♭型】案内人</span>
<p class="result-description"><br>あなたは、誰も気づいていない「小さな流れ」を感じ取って、まだ誰も見たことのない方向へ、自然と人を導いていける案内人。<br><br>
「なんとなくこっちの気がする」——<br><br>
その直感は、よく当たります。<br><br>
でもそれは偶然ではなく、あなたが今この瞬間にちゃんと心を開いているから。<br><br>
あなたの感覚は、風の向きを読むように軽やかで自由。<br><br>
理屈じゃ説明できなくても、あなたが選んだ方向には、不思議と明るさと希望があります。<br><br>
まわりの人は、あなたの予測不能なひらめきに最初は驚くかもしれません。<br><br>
でも気づけば、その選択が「いちばん良い道」になっていたりする。<br><br>
あなたは、未来のヒントを誰よりも早くキャッチできる人なのです。<br><br>
あなたがそばにいると、人はちょっとだけ勇気を持てたり、「迷ってても大丈夫」って思えたりする。<br><br>
その明るさとやわらかさは、まるで夜空にぽっと浮かぶナビゲーションの星のよう。<br><br>
あなたの導きは派手じゃなくて、さりげない。<br><br>
でも、気づけば誰かの人生をやさしく後押しする希望の案内人です。</p>`,
    "b♭m": `<span class="title" style="background-color: ${personalityColors['b♭m'].code}; color: #FFFFFF; padding: 2px 8px; border-radius: 4px;">【b♭m型】看護師</span>
<p class="result-description"><br>あなたは、人の痛みや悲しみにそっと気づき、言葉よりも「まなざし」や「空気感」で寄り添う看護師。<br><br>
あなたの優しさは、決して押しつけがましくありません。<br><br>
励ましたり、元気づけたりしなくても、あなたがそこにいるだけで、誰かの心がすーっとほぐれていくのです。<br><br>
あなたの存在はいつも誰かのそばにある。<br><br>
それは、にぎやかな声よりも深く響く、静かな「安心」のようなもの。<br><br>
誰かが疲れていたり、気持ちが沈んでいたりするとき、あなたはその空気を敏感に感じ取って、何も言わずそっと寄り添うことができます。<br><br>
あなたは、人の痛みや孤独を否定せず、それすらも「その人らしさ」として受けとめることができる人。<br><br>
だからこそ、あなたのそばにいると、人は自分の弱さも含めて安心していられるようになるのです。<br><br>
明るさや元気さが求められる世界の中で、あなたは「静かに照らす光」であり、「心の呼吸を整えてくれる存在」。<br><br>
あなたのそのやさしさは、何よりも深く、そして、何よりも力強いのです。</p>`,
    "B": `<span class="title" style="background-color: ${personalityColors['B'].code}; color: #FFFFFF; padding: 2px 8px; border-radius: 4px;">【B型】剣闘士</span>
<p class="result-description"><br>あなたは、熱くてまっすぐで、本気でぶつかることを恐れない剣闘士。<br><br>
「考えるより先に動く」ことができる、本物の行動派です。<br><br>
あなたの中にある情熱は、静かに燃えるタイプではありません。<br><br>
むしろ、それは野生の本能のように激しく、何かに向かって一気に走り出す爆発力。<br><br>
まわりから見れば「無茶だ」と思えるような挑戦にも、あなたは迷わず飛び込んでいきます。<br><br>
でもその姿に、人は心を動かされ、「自分もここまで本気になっていいんだ」と気づかされるのです。<br><br>
あなたは時に、他人や世界の「不条理」にも真正面から立ち向かっていく。<br><br>
「これだけは譲れない」という強い意志が、あなたの原動力になっています。<br><br>
だからこそ、あなたの一言は重く、その一撃は、誰かの心の奥に火をつける力を持っている。<br><br>
あなたは、いつも限界を塗り替える人。<br><br>
傷ついても、転んでも、また立ち上がるあなたの姿は、挑み続ける勇気そのものです。<br><br>
あなたの情熱は、まわりの人に「生きる力」を思い出させてくれる。<br><br>
あなたの「本気」は、世界を変える火種になるのです。</p>`,
    "bm": `<span class="title" style="background-color: ${personalityColors['bm'].code}; color: #FFFFFF; padding: 2px 8px; border-radius: 4px;">【bm型】魔術師</span>
<p class="result-description"><br>あなたは、静かに世界を観察し、誰も気づかない法則や違和感を見抜く魔術師。<br><br>
まわりが気にしないような小さな変化にも、あなたは敏感に反応します。<br><br>
そして、それをじっくりと見つめ、言葉にならない違和感をひも解いていく——<br><br>
あなたの知性と直感は、表に出さずとも鋭く研ぎ澄まされています。<br><br>
周囲に合わせるより、自分のペースで本質を見つめる。<br><br>
だからこそ、あなたの言葉には深い「重み」と「奥行き」があるのです。<br><br>
あなたが沈黙しているとき、それは「何もない」のではなく、内側で無数の思考や感情が静かに渦巻いている時間。<br><br>
孤独を恐れず、自分の中に潜って真理を探すあなたは、まるで知の旅人のよう。<br><br>
その探求心は、やがてまわりに驚きと希望をもたらす魔法に変わります。<br><br>
あなたは誰よりも深くこの世界を見つめている。<br><br>
その深さが、やがて誰かを救う「知恵の光」になる日がきっと訪れるでしょう。</p>`
  };
  const customFirstLines = {
  "C": "あなたは、まっすぐに周りを支えるC型。",
  "cm": "あなたは、静かに燃える職人気質のcm型。",
  "D♭": "あなたは、物事を奥深くまで理解するD♭型。",
  "c♯m": "あなたは、新しい世界を創り出すc♯m型。",
  "D": "あなたは、まだ見ぬ未来を切り開くD型。",
  "dm": "あなたは、感情の余白を読み取るdm型。",
  "E♭": "あなたは、バランス感覚に優れたE♭型。",
  "e♭m": "あなたは、人々の共感を描き出すe♭m型。",
  "E": "あなたは、場の雰囲気を明るくするE型。",
  "em": "あなたは、風のように自由気ままなem型。",
  "F": "あなたは、誰にも出せない答えを持つF型。",
  "fm": "あなたは、言葉の余白で心を揺らすfm型。",
  "F♯": "あなたは、理想を設計図に書き起こすF♯型。",
  "f♯m": "あなたは、複雑な世界を楽しめるf♯m型。",
  "G": "あなたは、逃さずチャンスを掴み取るG型。",
  "gm": "あなたは、冷静に真実を追い求めるgm型。",
  "A♭": "あなたは、言語の壁を超えて表現するA♭型。",
  "g♯m": "あなたは、独自の視点で世界を捉えるg♯m型。",
  "A": "あなたは、戦略を立てて勝利に導くA型。",
  "am": "あなたは、誰かの想いを形にできるam型。",
  "B♭": "あなたは、優しくそっと道を指し示すB♭型。",
  "b♭m": "あなたは、相手の気持ちに寄り添うb♭m型。",
  "B": "あなたは、恐れずに本気で向き合うB型。",
  "bm": "あなたは、混沌から正解を見つけ出すbm型。"
};  const compatibleKeys = {
    "C": ["cm", "am", "G", "F"],
    "cm": ["C", "E♭", "gm", "fm"],
    "D♭": ["c♯m", "g♯m", "A♭", "F♯"],
    "c♯m": ["D♭", "E", "g♯m", "f♯m"],
    "D": ["dm", "bm", "A", "G"],
    "dm": ["D", "F", "am", "gm"],
    "E♭": ["e♭m", "cm", "B♭", "A♭"],
    "e♭m": ["E♭", "F♯", "b♭m", "g♯m"],
    "E": ["em", "c♯m", "B", "A"],
    "em": ["E", "G", "bm", "am"],
    "F": ["fm", "dm", "C", "B♭"],
    "fm": ["F", "A♭", "cm", "b♭m"],
    "F♯": ["f♯m", "e♭m", "D♭", "B"],
    "f♯m": ["F♯", "A", "c♯m", "bm"],
    "G": ["gm", "em", "D", "C"],
    "gm": ["G", "B♭", "dm", "cm"],
    "A♭": ["g♯m", "fm", "E♭", "D♭"],
    "g♯m": ["A♭", "B", "e♭m", "c♯m"],
    "A": ["am", "f♯m", "E", "D"],
    "am": ["A", "C", "em", "dm"],
    "B♭": ["b♭m", "gm", "F", "E♭"],
    "b♭m": ["B♭", "D♭", "fm", "e♭m"],
    "B": ["bm", "g♯m", "F♯", "E"],
    "bm": ["B", "D", "f♯m", "em"]
  };  const famousSongs = {
    "C": [
      "『チェリー』- スピッツ",
      "『ありがとう』- いきものがかり",
      "『キセキ』- GReeeeN",
      "『silent』- SEKAI NO OWARI",
      "『Star』- 星野源",
      "『点描の唄 (feat. 井上苑子)』- Mrs. GREEN APPLE",
      "『カメレオン』- King Gnu"
    ],
    "cm": [
      "『残酷な天使のテーゼ』- 高橋洋子",
      "『ピースサイン』- 米津玄師",
      "『APT.』- ROSE & BRUNO MARS",
      "『Hachikō』- 藤井 風",
      "『風の通り道』- 久石譲",
      "『Drop』- HANA",
      "『夜に駆ける』- YOASOBI"
    ],
    "D♭": [
      "『若者のすべて』- フジファブリック",
      "『天体観測』- BUMP OF CHICKEN",
      "『アイラブユー』- back number",
      "『Everything』- MISIA",
      "『カタオモイ』- Aimer",
      "『恋人ごっこ』- マカロニえんぴつ"
    ],
    "c♯m": [
      "『クスシキ』- Mrs. GREEN APPLE",
      "『完全感覚Dreamer』- ONE OK ROCK",
      "『阿修羅ちゃん』- Ado",
      "『太正浪漫』- YOASOBI",
      "『火星人』- ヨルシカ"
    ],
    "D": [
      "『何なんw』- 藤井 風",
      "『マリーゴールド』- あいみょん",
      "『怪獣の花唄』- Vaundy",
      "『ダンスホール』- Mrs. GREEN APPLE",
      "『花束』- back number"
    ],
    "dm": [
      "『千本桜』- 黒うさP feat. 初音ミク",
      "『本能』- 椎名林檎",
      "『第ゼロ感』- 10-FEET",
      "『不可幸力』- Vaundy",
      "『UNDEAD』- YOASOBI"
    ],
    "E♭": [
      "『カブトムシ』- aiko",
      "『丸の内サディスティック』- 椎名林檎",
      "『115万キロのフィルム』- Official髭男dism",
      "『ウィーアー！』- きただにひろし",
      "『猫』- DISH//"
    ],
    "e♭m": [
      "『Subtitle』- Official髭男dism",
      "『打上花火』- DAOKO × 米津玄師",
      "『Azalea』- 米津玄師",
      "『Monster』- 嵐"
    ],
    "E": [
      "『Dynamite』- BTS",
      "『青と夏』- Mrs. GREEN APPLE",
      "『私は最強』- Ado",
      "『Wherever you are』- ONE OK ROCK",
      "『栄光の架け橋』- ゆず",
      "『RPG』- SEKAI NO OWARI"
    ],
    "em": [
      "『オトナブルー』- 新しい学校のリーダーズ",
      "『紅蓮華』- LiSA",
      "『さよーならまたいつか！』- 米津玄師",
      "『三文小説』- King Gnu",
      "『サウダージ』- ポルノグラフィティ",
      "『テレパシ』- DECO*27"
    ],
    "F": [
      "『花火』- aiko",
      "『パプリカ』- 米津玄師",
      "『宿命』- Official髭男dism",
      "『アイデア』- 星野源",
      "『３月９日』- レミオロメン"
    ],
    "fm": [
      "『踊』- Ado",
      "『Automatic』- 宇多田ヒカル",
      "『SAKURA』- いきものがかり",
      "『楓』- スピッツ",
      "『残酷な夜に輝け』- LiSA",
      "『Bunny Girl』- AKASAKI"
    ],
    "F♯": [
      "『ミックスナッツ』- Official髭男dism",
      "『愛♡スクリ～ム！』- AiScReam",
      "『シュガーソングとビターステップ』- UNISON SQUARE GARDEN",
      "『なんでもないや』- RADWIMPS",
      "『おにごっこ』- 優里"
    ],
    "f♯m": [
      "『一途』- King Gnu",
      "『ブルーバード』- いきものがかり",
      "『かくれんぼ』- 優里",
      "『LOSER』- 米津玄師",
      "『高嶺の花子さん』- back number"
    ],
    "G": [
      "『新時代』- Ado",
      "『君はロックを聴かない』- あいみょん",
      "『Magic』- Mrs. GREEN APPLE",
      "『First Love』- 宇多田ヒカル",
      "『ボーイフレンド』- aiko",
      "『Family Song』- 星野源",
      "『Chessboard』- Official髭男dism"
    ],
    "gm": [
      "『廻廻奇譚』- Eve",
      "『シャルル』- バルーン",
      "『勇者』- YOASOBI",
      "『神っぽいな』- ピノキオピー",
      "『ルパン三世のテーマ』- 大野雄二"
    ],
    "A♭": [
      "『Pretender』- Official髭男dism",
      "『三原色』- YOASOBI",
      "『Mela!』- 緑黄色社会",
      "『楓』- スピッツ",
      "『366日』- HY",
      "『キラキラ』- aiko"
    ],
    "g♯m": [
      "『残響散歌』- Aimer",
      "『怪物』- YOASOBI",
      "『怪獣』- サカナクション",
      "『ちゅ、多様性。』- ano",
      "『ルル』- Ado",
      "『Lemon』- 米津玄師"
    ],
    "A": [
      "『恋』- 星野源",
      "『I Love…』- Official髭男dism",
      "『ロビンソン』- スピッツ",
      "『会いに行くのに』- あいみょん",
      "『愛にできることはまだあるかい』- RADWIMPS",
      "『世界に一つだけの花』- SMAP",
      "『シンデレラボーイ』- SaucyDog"
    ],
    "am": [
      "『Bling-Bang-Bang-Born』- Creepy Nuts",
      "『Plazma』- 米津玄師",
      "『The Beginning』- ONE OK ROCK",
      "『太陽が昇らない世界』- Aimer",
      "『TWILIGHT!!!』- King Gnu",
      "『ROSE』- HANA",
      "『けっかおーらい』- こっちのけんと"
    ],
    "B♭": [
      "『ライラック』- Mrs. GREEN APPLE",
      "『ひまわりの約束』- 秦基博",
      "『新宝島』- サカナクション",
      "『群青』- YOASOBI",
      "『水平線』- back number",
      "『愛の花』- あいみょん"
    ],
    "b♭m": [
      "『KICK BACK』- 米津玄師",
      "『Habit』- SEKAI NO OWARI",
      "『青のすみか』- キタニタツヤ",
      "『花になって』- 緑黄色社会",
      "『Vinyl』- King Gnu",
      "『さよならエレジーl』- 菅田将暉"
    ],
    "B": [
      "『前前前世』- RADWIMPS",
      "『ソラニン』- ASIAN KUNG-FU GENERATION",
      "『小さな恋のうた』- MONGOL800",
      "『雪の華』- 中島美嘉",
      "『恋風』- 幾田りら"
    ],
    "bm": [
      "『うっせぇわ』- Ado",
      "『創世のアクエリオン』- AKINO",
      "『炎』- LiSA",
      "『はいよろこんで』- こっちのけんと",
      "『アポリア』- ヨルシカ",
      "『BOW AND ARROW』- 米津玄師"
    ]
}; 
    function addFamousSong(key, song) {
  if (!famousSongs[key]) famousSongs[key] = [];
  famousSongs[key].push(song);
}
    
    const displayImageUrls = {
    "C": "https://copper-glamorous-bass-418.mypinata.cloud/ipfs/bafkreih7kgft7gwa4lozqqo5xrvlsurswwp5o5m47lz6zaopwdzk6u6mg4",
    "cm": "https://copper-glamorous-bass-418.mypinata.cloud/ipfs/bafkreih7kgft7gwa4lozqqo5xrvlsurswwp5o5m47lz6zaopwdzk6u6mg4",
    "D♭": "https://copper-glamorous-bass-418.mypinata.cloud/ipfs/bafkreih7kgft7gwa4lozqqo5xrvlsurswwp5o5m47lz6zaopwdzk6u6mg4",
    "c♯m": "https://copper-glamorous-bass-418.mypinata.cloud/ipfs/bafkreih7kgft7gwa4lozqqo5xrvlsurswwp5o5m47lz6zaopwdzk6u6mg4",
    "D": "https://copper-glamorous-bass-418.mypinata.cloud/ipfs/bafkreih7kgft7gwa4lozqqo5xrvlsurswwp5o5m47lz6zaopwdzk6u6mg4",
    "dm": "https://copper-glamorous-bass-418.mypinata.cloud/ipfs/bafkreih7kgft7gwa4lozqqo5xrvlsurswwp5o5m47lz6zaopwdzk6u6mg4",
    "E♭": "https://copper-glamorous-bass-418.mypinata.cloud/ipfs/bafkreih7kgft7gwa4lozqqo5xrvlsurswwp5o5m47lz6zaopwdzk6u6mg4",
    "e♭m": "https://copper-glamorous-bass-418.mypinata.cloud/ipfs/bafkreih7kgft7gwa4lozqqo5xrvlsurswwp5o5m47lz6zaopwdzk6u6mg4",
    "E": "https://copper-glamorous-bass-418.mypinata.cloud/ipfs/bafkreih7kgft7gwa4lozqqo5xrvlsurswwp5o5m47lz6zaopwdzk6u6mg4",
    "em": "https://copper-glamorous-bass-418.mypinata.cloud/ipfs/bafkreih7kgft7gwa4lozqqo5xrvlsurswwp5o5m47lz6zaopwdzk6u6mg4",
    "F": "https://copper-glamorous-bass-418.mypinata.cloud/ipfs/bafkreih7kgft7gwa4lozqqo5xrvlsurswwp5o5m47lz6zaopwdzk6u6mg4",
    "fm": "https://copper-glamorous-bass-418.mypinata.cloud/ipfs/bafkreih7kgft7gwa4lozqqo5xrvlsurswwp5o5m47lz6zaopwdzk6u6mg4",
    "F♯": "https://copper-glamorous-bass-418.mypinata.cloud/ipfs/bafkreih7kgft7gwa4lozqqo5xrvlsurswwp5o5m47lz6zaopwdzk6u6mg4",
    "f♯m": "https://copper-glamorous-bass-418.mypinata.cloud/ipfs/bafkreih7kgft7gwa4lozqqo5xrvlsurswwp5o5m47lz6zaopwdzk6u6mg4",
    "G": "https://copper-glamorous-bass-418.mypinata.cloud/ipfs/bafkreih7kgft7gwa4lozqqo5xrvlsurswwp5o5m47lz6zaopwdzk6u6mg4",
    "gm": "https://copper-glamorous-bass-418.mypinata.cloud/ipfs/bafkreih7kgft7gwa4lozqqo5xrvlsurswwp5o5m47lz6zaopwdzk6u6mg4",
    "A♭": "https://copper-glamorous-bass-418.mypinata.cloud/ipfs/bafkreih7kgft7gwa4lozqqo5xrvlsurswwp5o5m47lz6zaopwdzk6u6mg4",
    "g♯m": "https://copper-glamorous-bass-418.mypinata.cloud/ipfs/bafkreih7kgft7gwa4lozqqo5xrvlsurswwp5o5m47lz6zaopwdzk6u6mg4",
    "A": "https://copper-glamorous-bass-418.mypinata.cloud/ipfs/bafkreih7kgft7gwa4lozqqo5xrvlsurswwp5o5m47lz6zaopwdzk6u6mg4",
    "am": "https://copper-glamorous-bass-418.mypinata.cloud/ipfs/bafkreih7kgft7gwa4lozqqo5xrvlsurswwp5o5m47lz6zaopwdzk6u6mg4",
    "B♭": "https://copper-glamorous-bass-418.mypinata.cloud/ipfs/bafkreih7kgft7gwa4lozqqo5xrvlsurswwp5o5m47lz6zaopwdzk6u6mg4",
    "b♭m": "https://copper-glamorous-bass-418.mypinata.cloud/ipfs/bafkreih7kgft7gwa4lozqqo5xrvlsurswwp5o5m47lz6zaopwdzk6u6mg4",
    "B": "https://copper-glamorous-bass-418.mypinata.cloud/ipfs/bafkreih7kgft7gwa4lozqqo5xrvlsurswwp5o5m47lz6zaopwdzk6u6mg4",
    "bm": "https://copper-glamorous-bass-418.mypinata.cloud/ipfs/bafkreih7kgft7gwa4lozqqo5xrvlsurswwp5o5m47lz6zaopwdzk6u6mg4"
  };
      const shareImageUrls = {
      "C": "https://copper-glamorous-bass-418.mypinata.cloud/ipfs/share_image_C",
      "cm": "https://copper-glamorous-bass-418.mypinata.cloud/ipfs/share_image_cm",
      "D♭": "https://copper-glamorous-bass-418.mypinata.cloud/ipfs/share_image_Db",
      "c♯m": "https://copper-glamorous-bass-418.mypinata.cloud/ipfs/share_image_csm",
      "D": "https://copper-glamorous-bass-418.mypinata.cloud/ipfs/share_image_D",
      "dm": "https://copper-glamorous-bass-418.mypinata.cloud/ipfs/share_image_dm",
      "E♭": "https://copper-glamorous-bass-418.mypinata.cloud/ipfs/share_image_Eb",
      "e♭m": "https://copper-glamorous-bass-418.mypinata.cloud/ipfs/share_image_ebm",
      "E": "https://copper-glamorous-bass-418.mypinata.cloud/ipfs/share_image_E",
      "em": "https://copper-glamorous-bass-418.mypinata.cloud/ipfs/share_image_em",
      "F": "https://copper-glamorous-bass-418.mypinata.cloud/ipfs/share_image_F",
      "fm": "https://copper-glamorous-bass-418.mypinata.cloud/ipfs/share_image_fm",
      "F♯": "https://copper-glamorous-bass-418.mypinata.cloud/ipfs/share_image_Fs",
      "f♯m": "https://copper-glamorous-bass-418.mypinata.cloud/ipfs/share_image_fsm",
      "G": "https://copper-glamorous-bass-418.mypinata.cloud/ipfs/share_image_G",
      "gm": "https://copper-glamorous-bass-418.mypinata.cloud/ipfs/share_image_gm",
      "A♭": "https://copper-glamorous-bass-418.mypinata.cloud/ipfs/share_image_Ab",
      "g♯m": "https://copper-glamorous-bass-418.mypinata.cloud/ipfs/share_image_gsm",
      "A": "https://copper-glamorous-bass-418.mypinata.cloud/ipfs/share_image_A",
      "am": "https://copper-glamorous-bass-418.mypinata.cloud/ipfs/share_image_am",
      "B♭": "https://copper-glamorous-bass-418.mypinata.cloud/ipfs/share_image_Bb",
      "b♭m": "https://copper-glamorous-bass-418.mypinata.cloud/ipfs/share_image_bbm",
      "B": "https://copper-glamorous-bass-418.mypinata.cloud/ipfs/share_image_B",
      "bm": "https://copper-glamorous-bass-418.mypinata.cloud/ipfs/share_image_bm"
    };
  const questions = [
    {
      "id": "Q1",
      "text": "Q1. SNS上で友人が落ち込んでいたら？",
      "options": [
        {"text": "「大丈夫？」とDMで心配する", "points": {"B♭": 3, "dm": 1}},
        {"text": "おバカなミームで笑顔にさせる", "points": {"E": 3, "am": 1}},
        {"text": "直接会う約束をして相談に乗る", "points": {"C": 3, "G": 1}},
        {"text": "ユニークなメッセージで励ます", "points": {"F": 3, "c♯m": 1}}
      ]
    },
    {
      "id": "Q2",
      "text": "Q2. 週末の空いた時間をどう過ごす？",
      "options": [
        {"text": "新しいスポットを自由に巡る", "points": {"em": 3, "F": 1}},
        {"text": "予定を立てて効率よく楽しむ", "points": {"F♯": 3, "E♭": 1}},
        {"text": "趣味を極めるために没頭する", "points": {"cm": 3, "dm": 1}},
        {"text": "本や動画などで知識を深める", "points": {"D♭": 3, "g♯m": 1}}
      ]
    },
    {
      "id": "Q3",
      "text": "Q3. ゲーム中、自分が負けそうになったら？",
      "options": [
        {"text": "戦略を立て直して逆転を狙う", "points": {"B": 3, "A": 1}},
        {"text": "ウケ狙いで派手にプレイする", "points": {"A♭": 3, "e♭m": 1}},
        {"text": "相手の動きを冷静に分析する", "points": {"gm": 3, "D♭": 1}},
        {"text": "意外性のある戦法を生み出す", "points": {"bm": 3, "f♯m": 1}}
      ]
    },
    {
      "id": "Q4",
      "text": "Q4. グループチャットで意見が対立したら？",
      "options": [
        {"text": "意見を聞いて平和にまとめる", "points": {"E♭": 3, "B♭": 1}},
        {"text": "優しい言葉で空気を和らげる", "points": {"am": 3, "b♭m": 1}},
        {"text": "別の視点から議論を展開する", "points": {"D": 3, "em": 1}},
        {"text": "的確な意見で信頼関係を築く", "points": {"G": 3, "C": 1}}
      ]
    },
    {
      "id": "Q5",
      "text": "Q5. 好きなアニメの新シーズン、どう楽しむ？",
      "options": [
        {"text": "物語の奥深さを味わう", "points": {"e♭m": 3, "am": 1}},
        {"text": "考察をSNSに投稿する", "points": {"c♯m": 3, "bm": 1}},
        {"text": "伏線やテーマ性を分析", "points": {"f♯m": 3, "D♭": 1}},
        {"text": "情報やグッズを集める", "points": {"g♯m": 3, "cm": 1}}
      ]
    },
    {
      "id": "Q6",
      "text": "Q6. ストレスが溜まったら、どうする？",
      "options": [
        {"text": "本や音楽で落ち着かせる", "points": {"dm": 3, "b♭m": 1}},
        {"text": "気持ちを言葉にして残す", "points": {"fm": 3, "e♭m": 1}},
        {"text": "スケジュールを整理する", "points": {"A": 3, "F♯": 1}},
        {"text": "友人との会話で気分転換", "points": {"b♭m": 3, "fm": 1}}
      ]
    },
    {
      "id": "Q7",
      "text": "Q7. 大事なテストの前日、どう準備する？",
      "options": [
        {"text": "ポイントを整理して万全に", "points": {"F♯": 4, "A": 1}},
        {"text": "気合いを入れて全力で復習", "points": {"B": 4, "C": 1}},
        {"text": "独自の方法で最終チェック", "points": {"c♯m": 4, "F": 1}},
        {"text": "苦手な部分を徹底的に対策", "points": {"gm": 4, "D♭": 1}}
      ]
    },
    {
      "id": "Q8",
      "text": "Q8. SNSで発信するなら、どんな内容？",
      "options": [
        {"text": "明るい内容で楽しい空気を", "points": {"E": 4, "B♭": 1}},
        {"text": "斬新な視点で話題を集める", "points": {"F": 4, "c♯m": 1}},
        {"text": "直感的に今の気持ちを表現", "points": {"A♭": 4, "e♭m": 1}},
        {"text": "ポエムのような文章を投稿", "points": {"am": 4, "fm": 1}}
      ]
    },
    {
      "id": "Q9",
      "text": "Q9. 家族が大きな決断で悩んでいたら？",
      "options": [
        {"text": "話を聞いて選択肢を整理する", "points": {"B♭": 4, "E♭": 1}},
        {"text": "全力で勇気づけて背中を押す", "points": {"C": 4, "B": 1}},
        {"text": "新たな可能性を見つけて応援", "points": {"D": 4, "em": 1}},
        {"text": "的確なアドバイスでサポート", "points": {"G": 4, "A": 1}}
      ]
    },
    {
      "id": "Q10",
      "text": "Q10. 新しいゲームを始めるなら、何をする？",
      "options": [
        {"text": "攻略法を予習して完璧に", "points": {"cm": 4, "g♯m": 1}},
        {"text": "背景や設定をよく調べる", "points": {"D♭": 4, "f♯m": 1}},
        {"text": "自由にプレイして楽しむ", "points": {"em": 4, "D": 1}},
        {"text": "独自の遊び方を編み出す", "points": {"bm": 4, "c♯m": 1}}
      ]
    },
    {
      "id": "Q11",
      "text": "Q11. チームで動く時のあなたの役割は？",
      "options": [
        {"text": "流れを整理してゴールに導く", "points": {"A": 4, "F♯": 1}},
        {"text": "意見をまとめて納得の方向に", "points": {"E♭": 4, "B♭": 1}},
        {"text": "独自の提案をして課題を突破", "points": {"f♯m": 4, "gm": 1}},
        {"text": "メンバーの気持ちに寄り添う", "points": {"b♭m": 4, "dm": 1}}
      ]
    },
    {
      "id": "Q12",
      "text": "Q12. タイムマシンがあったら、どこに行く？",
      "options": [
        {"text": "大昔の謎を解きに行く", "points": {"D♭": 4, "gm": 1}},
        {"text": "未来の都市を見に行く", "points": {"c♯m": 4, "bm": 1}},
        {"text": "思い出深い場所に行く", "points": {"g♯m": 4, "cm": 1}},
        {"text": "感動のあの瞬間に行く", "points": {"fm": 4, "am": 1}}
      ]
    }
  ];  let current = 0;
  let topKey = null;
  const answers = Array(questions.length).fill(null);
  const startBtn = document.getElementById('startBtn');
  const backBtn = document.getElementById('backBtn');
  const restartBtn = document.getElementById('restartBtn');
  const startScreen = document.getElementById('startScreen');
  const questionScreen = document.getElementById('questionScreen');
  const resultScreen = document.getElementById('resultScreen');
  const questionText = document.getElementById('questionText');
  const optionsList = document.getElementById('optionsList');
  const progInner = document.getElementById('progInner');
  const resultTextDiv = document.getElementById('resultText');  function getCharacterTitle(key) {
    const description = characterDescriptions[key];
    if (!description) return key;
    const match = description.match(/<span class="title"[^>]*>(.*?)<\/span>/);
    return match ? match[1] : key;
  }  function showScreen(screen) {
    [startScreen, questionScreen, resultScreen].forEach(s => {
      if (s) s.classList.remove('active');
    });
    if (screen) screen.classList.add('active');
    else console.error('showScreen: screen引数がnullです');
  }  function renderQuestion() {
    const q = questions[current];
    if (!q) {
      console.error('質問データが見つかりません: current =', current);
      return;
    }
    questionText.textContent = q.text;
    progInner.style.width = `${(current / questions.length) * 100}%`;
    optionsList.innerHTML = '';
    q.options.forEach((opt, idx) => {
      const li = document.createElement('li');
      if (answers[current] === idx) li.classList.add('selected');
      const btn = document.createElement('button');
      btn.textContent = opt.text;
      btn.onclick = () => {
        answers[current] = idx;
        //console.log(`Question ${current + 1}: Selected option ${idx}, Answers:`, answers);
        if (current < questions.length - 1) {
          current++;
          renderQuestion();
        } else {
          showResult();
        }
      };
      li.appendChild(btn);
      optionsList.appendChild(li);
    });
    backBtn.style.display = current > 0 ? 'inline-block' : 'none';
  }  function prevQuestion() {
    if (current > 0) {
      current--;
      renderQuestion();
    }
  }  function showResult() {
    //console.log('showResult called, answers:', answers);
    const totals = {};
    questions.forEach((q, qi) => {
      const sel = answers[qi];
      if (sel != null) {
        Object.entries(q.options[sel].points).forEach(([k, v]) => {
          totals[k] = (totals[k] || 0) + v;
        });
      }
    });const allAnswered = answers.every(answer => answer != null);
if (!allAnswered || Object.keys(totals).length === 0) {
  console.log('Not all questions answered or totals empty:', totals);
  resultTextDiv.innerHTML = `
    <p>エラー：すべての質問に回答してください。</p>
    <p>もう一度最初から診断を始めるか、前の質問に戻って回答してください。</p>
  `;
  showScreen(resultScreen);
  return;
}

topKey = Object.entries(totals).sort((a, b) => b[1] - a[1])[0][0];
console.log('Calculated topKey:', topKey, 'totals:', totals);
const displayImageUrl = displayImageUrls[topKey] || 'https://via.placeholder.com/800x600';
const shareImageUrl = shareImageUrls[topKey] || 'https://via.placeholder.com/1200x600';
document.getElementById('resultImage').innerHTML = `<img src="${displayImageUrl}" alt="${topKey}の画像" onerror="this.src='https://via.placeholder.com/800x600'">`;

const twitterImageMeta = document.querySelector('meta[name="twitter:image"]');
const twitterTitleMeta = document.querySelector('meta[name="twitter:title"]');
const twitterDescMeta = document.querySelector('meta[name="twitter:description"]');
const ogImageMeta = document.querySelector('meta[property="og:image"]');
const characterTitle = getCharacterTitle(topKey);

if (twitterImageMeta) twitterImageMeta.setAttribute('content', shareImageUrl);
if (ogImageMeta) ogImageMeta.setAttribute('content', shareImageUrl);
if (twitterTitleMeta) twitterTitleMeta.setAttribute('content', `私は${characterTitle} - パートナル診断`);
if (twitterDescMeta) twitterDescMeta.setAttribute('content', `音と色で私の性格を診断！私は${characterTitle}！あなたのパートナルは？今すぐ無料でチェック！`);

const compatible = compatibleKeys[topKey] || [];
const compatibleHTML = compatible
  .map(key => `<p class="compatible-title">${getCharacterTitle(key)}</p>`)
  .join('');

// topKey に対応する曲リストを取得（無ければ空配列）
const songList = famousSongs[topKey] || [];
// 配列をシャッフルして先頭4件を切り出し
const selected = [...songList]
  .sort(() => Math.random() - 0.5)
  .slice(0, 4);
// HTML 生成
const songsHTML = selected.length > 0
  ? selected.map(song => `<p>${song}</p>`).join('\n')
  : '<p>情報が見つかりませんでした。</p>';

const colorInfo = personalityColors[topKey] || { name: "不明", code: "#000000" };
const colorHTML = `
  <h3>あなたのパートナルカラー</h3>
  <p><span class="color-name" style="background-color: ${colorInfo.code} !important; padding: 2px 8px; border-radius: 4px; color: #FFF !important; display: inline-block;">${colorInfo.name}</span>  ${colorInfo.code}</p>
`;

const firstSentence = customFirstLines[topKey] || '';         // ここで必ず customFirstLines を取得
// HMTL全体を取得し、正規表現を使ってタイトル部分のspanタグを削除
const fullDescription = characterDescriptions[topKey] || '';
const remainingDescription = fullDescription.replace(/<span class="title"[^>]*>.*?<\/span>/, '');
    
const descriptionHTML = `
  <div class="accordion">
    <span class="title" style="background-color: ${colorInfo.code}; color: #FFF; padding:2px 8px; border-radius:4px;">
      ${getCharacterTitle(topKey)}
    </span>
    <p class="result-description-first">${firstSentence}</p>
    <button class="accordion-toggle" data-state="closed" aria-expanded="false" aria-controls="accordion-content-${topKey}">
      詳しく見る <span class="arrow">▼</span>
      </button>
      <div class="accordion-content" id="accordion-content-${topKey}">
        ${remainingDescription}
      </div>
    </div>
  `;

resultTextDiv.innerHTML = `
  ${descriptionHTML}
  <hr>
  ${colorHTML}
  <hr>
  <h3>あなたと相性の良いパートナル</h3>
  ${compatibleHTML || '<p>情報が見つかりませんでした。</p>'}
  <hr>
  <h3>あなたのパートナルの人気曲</h3>
  ${songsHTML}
`;

const accordionButtons = document.querySelectorAll('.accordion-toggle');accordionButtons.forEach(button => {
  // 既存のイベントリスナーをクリア（重複防止）
  button.removeEventListener('click', toggleAccordion);
  button.removeEventListener('keydown', toggleAccordion);
  button.addEventListener('click', () => toggleAccordion(button));
  button.addEventListener('keydown', (e) => {
    if (e.key === 'Enter' || e.key === ' ') {
      e.preventDefault();
      toggleAccordion(button);
    }
  });
});
    console.log('Result screen HTML set, calling showScreen');
showScreen(resultScreen);  }function toggleAccordion(button) {
  console.log('Toggle accordion clicked:', button.getAttribute('data-state'));
  const content = button.nextElementSibling;
  const arrow = button.querySelector('.arrow');  if (!content || !arrow) {
    console.error('Accordion content or arrow not found:', { content, arrow });
    return;
  }  if (content.classList.contains('open')) {
    console.log('Closing accordion');
    content.classList.remove('open');
    content.style.maxHeight = '0';
    content.style.opacity = '0';
    button.setAttribute('data-state', 'closed');
    button.setAttribute('aria-expanded', 'false');
    button.innerHTML = '詳しく見る <span class="arrow">▼</span>';
  } else {
    console.log('Opening accordion, scrollHeight:', content.scrollHeight);
    content.classList.add('open');
    content.style.maxHeight = content.scrollHeight + 'px';
    content.style.opacity = '1';
    button.setAttribute('data-state', 'open');
    button.setAttribute('aria-expanded', 'true');
    button.innerHTML = '閉じる <span class="arrow">▲</span>';
  }
}  document.getElementById('shareXBtn').addEventListener('click', () => {
    if (topKey) {
     window.open(
  　　　`https://twitter.com/intent/tweet?text=${encodeURIComponent(`私は「${topKey}型」\nMBTIの次はコレ！音と色の性格診断「パートナル」\n今すぐ無料で相性チェック\n`)}&url=${encodeURIComponent(location.href)}`,
  　　　'_blank'
　　　);
    } else {
      console.warn('topKey is not set yet.');
    }
  });  document.getElementById('goodsBtn').addEventListener('click', () => {
    window.open('https://example.com/official-goods', '_blank');
  });  startBtn.onclick = () => {
    console.log('startBtn clicked, current:', current, 'answers:', answers);
    current = 0;
    answers.fill(null);
    renderQuestion();
    showScreen(questionScreen);
  };  backBtn.onclick = prevQuestion;  restartBtn.onclick = () => {
    console.log('restartBtn clicked');
    current = 0;
    answers.fill(null);
    topKey = null;
    resultTextDiv.innerHTML = '';
    showScreen(startScreen);
  };  showScreen(startScreen);
});
  </script><footer>
  <nav class="footer-nav">
    <a href="./terms.html">利用規約</a>
    <span class="divider">|</span>
    <a href="./privacy.html">プライバシーポリシー</a>
    <span class="divider">|</span>
    <a href="./operator.html">運営者情報</a>
  </nav>
  <p class="copyright">&copy; 2025 pertonal by mera takeru. All rights reserved.</p>
</footer>
</body>
</html>
